[General]
network = RingFdlOBS
sim-time-limit = 5s

# Output Control
cmdenv-express-mode = true
cmdenv-autoflush = true
**.vector-recording = false
**.scalar-recording = true

# Disable Network Configurator
**.networkLayer.configurator.networkConfig uratorModule = ""

# ============ Network Parameters (9-Satellite Constellation) ============
**.lambdasPerFiber = 4

# ============ Core Node Configuration (Inter-Satellite Laser Communication) ============
**.core*.inputColours = ""
**.core*.outputColours = ""
**.core*.**.guardTime = 0.00001s        # 10Î¼s (Satellite Jitter)
**.core*.**.BCPProcessingDelay = 0.00001s
**.core*.**.dataRate = 400Gbps
**.core*.**.reportFile = "results/burst_stats.txt"

# Port Configuration (Unified: 1 Local Edge + 4 Reserved ISL Ports)
**.core1.lambdasPerInPort = "4 4 4 4 4"
**.core1.lambdasPerOutPort = "4 4 4 4 4"
**.core2.lambdasPerInPort = "4 4 4 4 4"
**.core2.lambdasPerOutPort = "4 4 4 4 4"
**.core3.lambdasPerInPort = "4 4 4 4 4"
**.core3.lambdasPerOutPort = "4 4 4 4 4"
**.core4.lambdasPerInPort = "4 4 4 4 4"
**.core4.lambdasPerOutPort = "4 4 4 4 4"
**.core5.lambdasPerInPort = "4 4 4 4 4"
**.core5.lambdasPerOutPort = "4 4 4 4 4"
**.core6.lambdasPerInPort = "4 4 4 4 4"
**.core6.lambdasPerOutPort = "4 4 4 4 4"
**.core7.lambdasPerInPort = "4 4 4 4 4"
**.core7.lambdasPerOutPort = "4 4 4 4 4"
**.core8.lambdasPerInPort = "4 4 4 4 4"
**.core8.lambdasPerOutPort = "4 4 4 4 4"
**.core9.lambdasPerInPort = "4 4 4 4 4"
**.core9.lambdasPerOutPort = "4 4 4 4 4"

# OE/EO Conversion
**.OEConversionDelay = 0s
**.EOConversionDelay = 0s

# ============ Edge Node Configuration ============
**.edge*.outColours = ""
**.edge*.**.dispatcherRules = ""
**.edge*.**.numFileBurstifiers = 0
**.edge*.**.numPacketBurstifiers = 8    # Send to other 8 satellites

# Optical Burst Assembler Optimization Parameters
**.packetBurstifier[*].timeout = 0.005s
**.packetBurstifier[*].maxSize = 50000B
**.packetBurstifier[*].numPackets = 50
**.packetBurstifier[*].minOffset = 0.015s     #  15ms
**.packetBurstifier[*].maxOffset = 0.05s      #  50ms
**.packetBurstifier[*].minSizeWithPadding = 64B
**.packetBurstifier[*].overflowLastPacket = true
**.packetBurstifier[*].cteHeader = 8B
**.packetBurstifier[*].varHeader = 1B

# Configure Destinations for Edge1 (Send to other 8 satellites)
**.edge1.**.packetBurstifier[0].destLabel = 2
**.edge1.**.packetBurstifier[1].destLabel = 3
**.edge1.**.packetBurstifier[2].destLabel = 4
**.edge1.**.packetBurstifier[3].destLabel = 5
**.edge1.**.packetBurstifier[4].destLabel = 6
**.edge1.**.packetBurstifier[5].destLabel = 7
**.edge1.**.packetBurstifier[6].destLabel = 8
**.edge1.**.packetBurstifier[7].destLabel = 9

# Other Edges similar (omitted, add as needed)

# Sender Configuration
**.sender.BCPSize = 256B
**.sender.guardTime = 0.00001s
**.sender.dataRate = 400Gbps
**.sender.maxSchedBurstSize = 0
**.sender.maxSchedBurstElems = 0
**.sender.testing = false

# ============ Host Configuration ============
**.host*.numTcpApps = 0
**.host*.numUdpApps = 1
**.host*.networkLayer.ip.procDelay = 0

# IP Configuration
**.ip.procDelay = 0
**.arp.cacheTimeout = 100s
**.eth[*].mac.txrate = 200Gbps
**.ppp[*].queue.frameCapacity = 100000
**.eth[*].queue.frameCapacity = 100000

# ============ Traffic Configuration (Optical Burst Performance Test) ============
# Host1 -> Host9 (Diagonal furthest, 4 hops)
**.host1.udpApp[0].typename = "UDPBasicApp"
**.host1.udpApp[0].destAddresses = "host9"
**.host1.udpApp[0].destPort = 5000
**.host1.udpApp[0].messageLength = 1000B
**.host1.udpApp[0].sendInterval = exponential(0.01s)
**.host1.udpApp[0].startTime = 0.1s

# Other hosts receive
**.host2.udpApp[0].typename = "UDPSink"
**.host2.udpApp[0].localPort = 5000

**.host3.udpApp[0].typename = "UDPSink"
**.host3.udpApp[0].localPort = 5000

**.host4.udpApp[0].typename = "UDPSink"
**.host4.udpApp[0].localPort = 5000

**.host5.udpApp[0].typename = "UDPSink"
**.host5.udpApp[0].localPort = 5000

**.host6.udpApp[0].typename = "UDPSink"
**.host6.udpApp[0].localPort = 5000

**.host7.udpApp[0].typename = "UDPSink"
**.host7.udpApp[0].localPort = 5000

**.host8.udpApp[0].typename = "UDPSink"
**.host8.udpApp[0].localPort = 5000

**.host9.udpApp[0].typename = "UDPSink"
**.host9.udpApp[0].localPort = 5000

# ============ Optical Burst Optimization Comparison Experiment ============
[Config Baseline]
description = "Baseline with standard parameters"

[Config LargeOffset]
description = "Increase offset to reduce offset-violation drops"
**.packetBurstifier[*].minOffset = 0.03s
**.packetBurstifier[*].maxOffset = 0.1s

[Config SmallBurst]
description = "Reduce burst size for lower latency"
**.packetBurstifier[*].maxSize = 25000B
**.packetBurstifier[*].numPackets = 25

[Config HighLoad]
description = "High traffic load test"
**.host1.udpApp[0].sendInterval = exponential(0.001s)
